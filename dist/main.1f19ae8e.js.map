{"version":3,"sources":["vdom/createElement.js","vdom/render.js","vdom/mount.js","vdom/diff.js","main.js"],"names":["_default","tagName","_ref","arguments","length","undefined","_ref$attrs","attrs","_ref$children","children","renderElem","$el","document","createElement","_i","_Object$entries","Object","entries","_Object$entries$_i","_slicedToArray","k","v","setAttribute","_iterator","_createForOfIteratorHelper","_step","s","n","done","child","value","$child","render","appendChild","err","e","f","vNode","createTextNode","exports","default","$node","$target","replaceWith","_render","_interopRequireDefault","require","__esModule","r","t","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","_n","F","TypeError","o","a","u","call","next","return","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arrayLikeToArray","toString","slice","constructor","name","from","test","l","i","push","zip","xs","ys","zipped","Math","min","diffAttrs","oldAttrs","newAttrs","patches","_loop","console","log","remove","_i2","_patches","patch","diffChildren","oldVChildren","newVChildren","childPatches","_step$value","oldVChild","newVChild","diff","additionalPatches","_iterator2","_step2","_loop2","additionalVChild","$parent","_iterator3","childNodes","_step3","_step3$value","_i3","_additionalPatches","vOldNode","vNewNode","$newNode","patchAttrs","patchChildren","_createElement","_mount","_diff","_readOnlyError","createVApp","count","id","dataCount","String","src","vApp","$app","$rootEl","mount","getElementById","setInterval","vNewApp"],"mappings":"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,CAAA,EFAD,MEACI,KCYH,ADZG,CAAAC,CCa3B0E,MAAM,ADbqB,CCapBH,ADboB5E,CAAA,ICaf,CAAC,EACb,GDd2BA,CCc3BnC,ADd2B,sBCcd,EAAC,KAAK,EAAE;ADZxB,IHEEJ,AGFIoE,AFFyBtE,EGe3BA,CDbK,EFF2B,CEExB,CCaH,CJXC,ACJ0BL,CGezB,CJXTO,ECJkC,CAALF,EEEzBsE,GAAGA,AFF2B,CEEvBC,EAAE,EAAEC,EAAE,EAAK;EHGvB,AGFA,CHEC,CCLoCtE,EEG/BuE,ECaFgD,GAAG,CDbK,AFHiC,CGgBpC,EDbM,AFH8B9H,EEG5B,EFH4B,CAARO,QAAQ;ADM9C,CAAC,CGFA,AFHA,IGgBG,AHhBGE,CEGD,EFHI,EEGAgE,CAAC,AFHE/D,GEGC,CAAC,EAAE+D,CAAC,CFHG,CAAC9D,CEGDoE,IAAI,CAACC,GAAG,CAACJ,EAAE,CAAC1E,AFHE,CAACH,KEGG,EAAE8E,AFHE,CAAC,CEGD,CAAC3E,MAAM,CAAC,EAAEuE,CAAC,EAAE,EAAE;ICcvD,ADbDK,CCaE,CAAC,IDbG,CAACJ,IAAI,CAAC,CAACE,EAAE,CAACH,CAAC,CAAC,EAAEI,EAAE,CAACJ,CAAC,CAAC,CAAC,CAAC;ECe5B,ADdA,AFHA,CGiBC,CAAC;AAAA,EDbF,AFHA,OEGOK,EFHPlE,EAAA,EEGa,IFHbC,eAAA,GAAqBC,MAAM,CAACC,OAAO,CAACV,KAAK,CAAC,EAAAO,EAAA,GAAAC,eAAA,CAAAX,MAAA,EAAAU,EAAA,IAAE;AGkB7C,ADdA,CAAC,GCcG8G,AHlBE,IAAA1G,CGkBG,GAAG,CAAC,aHlBP,GAAAC,cAAA,CAAAJ,eAAA,CAAAD,EAAA;AGmBN,ADbA,ICaMmH,ADbA9C,EFNO/D,CAAC,CGmBJ,EHnBIF,CGmBDyG,EDbE,GAAG,KCaK,CAACC,GDblBzC,ECauB,CAAC,AHnBhB,MEMCA,CAAIC,QAAQ,EAAEC,QAAQ,EAAK;ACc1C,EDbC,ECaK6C,EDbC5C,AFPSjE,CAAC,CGoBP,EHpBOH,CGoBJ,EDbC,ECaDc,CDbI,EAAE,UFPF,EGoBE,EAACiG,IAAI,CAAC;AACzB,IAAIE,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","file":"main.1f19ae8e.js","sourceRoot":"..\\src","sourcesContent":["export default (tagName, { attrs = {}, children = [] } = {}) => {\r\n\treturn {\r\n\t\ttagName,\r\n\t\tattrs,\r\n\t\tchildren,\r\n\t};\r\n};\r\n","const renderElem = ({ tagName, attrs, children }) => {\r\n\tconst $el = document.createElement(tagName);\r\n\r\n\t// set attrs\r\n\tfor (const [k, v] of Object.entries(attrs)) {\r\n\t\t$el.setAttribute(k, v);\r\n\t}\r\n\r\n\t// set children\r\n\tfor (const child of children) {\r\n\t\tconst $child = render(child);\r\n\t\t$el.appendChild($child);\r\n\t}\r\n\r\n\treturn $el;\r\n};\r\n\r\nconst render = (vNode) => {\r\n\tif (typeof vNode === \"string\") {\r\n\t\treturn document.createTextNode(vNode);\r\n\t}\r\n\r\n\treturn renderElem(vNode);\r\n};\r\n\r\nexport default render;\r\n","export default ($node, $target) => {\r\n\t$target.replaceWith($node);\r\n\treturn $node;\r\n};\r\n","import render from \"./render\";\r\n\r\nconst zip = (xs, ys) => {\r\n\tconst zipped = [];\r\n\tfor (let i = 0; i < Math.min(xs.length, ys.length); i++) {\r\n\t\tzipped.push([xs[i], ys[i]]);\r\n\t}\r\n\treturn zipped;\r\n};\r\n\r\nconst diffAttrs = (oldAttrs, newAttrs) => {\r\n\tconst patches = [];\r\n\r\n\t// set new attributes\r\n\tfor (const [k, v] of Object.entries(newAttrs)) {\r\n\t\tconsole.log([k, v]);\r\n\t\tpatches.push(($node) => {\r\n\t\t\t$node.setAttribute(k, v);\r\n\t\t\treturn $node;\r\n\t\t});\r\n\t}\r\n\r\n\t// remove old attributes\r\n\tfor (const k in oldAttrs) {\r\n\t\tif (!(k in newAttrs)) {\r\n\t\t\tpatches.push(($node) => {\r\n\t\t\t\t$node.remove();\r\n\t\t\t\treturn $node;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\treturn ($node) => {\r\n\t\tfor (const patch of patches) {\r\n\t\t\tpatch($node);\r\n\t\t}\r\n\t\treturn $node;\r\n\t};\r\n};\r\n\r\nconst diffChildren = (oldVChildren, newVChildren) => {\r\n\tconst childPatches = [];\r\n\tfor (const [oldVChild, newVChild] of zip(oldVChildren, newVChildren)) {\r\n\t\tchildPatches.push(diff(oldVChild, newVChild));\r\n\t}\r\n\r\n\tconst additionalPatches = [];\r\n\tfor (const additionalVChild of newVChildren.slice(oldVChildren.length)) {\r\n\t\tadditionalPatches.push(($node) => {\r\n\t\t\t$node.appendChild(render(additionalVChild));\r\n\t\t\treturn $node;\r\n\t\t});\r\n\t}\r\n\r\n\treturn ($parent) => {\r\n\t\tfor (const [patch, child] of zip(childPatches, $parent.childNodes)) {\r\n\t\t\tpatch(child);\r\n\t\t}\r\n\r\n\t\tfor (const patch of additionalPatches) {\r\n\t\t\tpatch($parent);\r\n\t\t}\r\n\r\n\t\treturn $parent;\r\n\t};\r\n};\r\n\r\nconst diff = (vOldNode, vNewNode) => {\r\n\tif (vNewNode === undefined) {\r\n\t\treturn ($node) => {\r\n\t\t\t$node.remove();\r\n\t\t\treturn undefined;\r\n\t\t};\r\n\t}\r\n\r\n\tif (typeof vOldNode === \"string\" || typeof vNewNode == \"string\") {\r\n\t\tif (vOldNode !== vNewNode) {\r\n\t\t\treturn ($node) => {\r\n\t\t\t\tconst $newNode = render(vNewNode);\r\n\t\t\t\t$node.replaceWith($newNode);\r\n\t\t\t\treturn $newNode;\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\treturn ($node) => $node;\r\n\t\t}\r\n\t}\r\n\r\n\tif (vOldNode.tagName != vNewNode.tagName) {\r\n\t\treturn ($node) => {\r\n\t\t\tconst $newNode = render(vNewNode);\r\n\t\t\t$node.replaceWith($newNode);\r\n\t\t\treturn $newNode;\r\n\t\t};\r\n\t}\r\n\r\n\tconst patchAttrs = diffAttrs(vOldNode.attrs, vNewNode.attrs);\r\n\tconst patchChildren = diffChildren(vOldNode.children, vNewNode.children);\r\n\r\n\treturn ($node) => {\r\n\t\tpatchAttrs($node);\r\n\t\tpatchChildren($node);\r\n\t\treturn $node;\r\n\t};\r\n};\r\n\r\nexport default diff;\r\n","import createElement from \"./vdom/createElement\";\r\nimport render from \"./vdom/render\";\r\nimport mount from \"./vdom/mount\";\r\nimport diff from \"./vdom/diff\";\r\n\r\nconst createVApp = (count) =>\r\n\tcreateElement(\"div\", {\r\n\t\tattrs: {\r\n\t\t\tid: \"app\",\r\n\t\t\tdataCount: count,\r\n\t\t},\r\n\t\tchildren: [\r\n\t\t\t\"The current count is: \",\r\n\t\t\tString(count),\r\n\t\t\tcreateElement(\"img\", {\r\n\t\t\t\tattrs: {\r\n\t\t\t\t\tsrc: \"https://media.giphy.com/media/tHIRLHtNwxpjIFqPdV/giphy.gif?cid=790b7611vqse20scra3m3p0n7iwskxggk968hfu0rmo0tspm&ep=v1_gifs_trending&rid=giphy.gif&ct=g\",\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t],\r\n\t});\r\n\r\nlet count = 0;\r\nconst vApp = createVApp(count);\r\nconst $app = render(vApp);\r\nlet $rootEl = mount($app, document.getElementById(\"app\"));\r\n\r\nsetInterval(() => {\r\n\tcount++;\r\n\tconst vNewApp = createVApp(count);\r\n\tconst patch = diff(vApp, vNewApp);\r\n\t$rootEl = patch($rootEl);\r\n\tvApp = vNewApp;\r\n}, 1000);\r\n\r\nconsole.log($app);\r\n"]}